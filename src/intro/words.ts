type LetterRow = [string, string, string, string, string] | [string, string, string, string] | [string, string, string] | [string, string]
type Letter = [LetterRow, LetterRow, LetterRow, LetterRow, LetterRow, LetterRow, LetterRow]

const letterMap: Record<string, Letter> = {
    'A': [
        [' ', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', '█', '█', '█', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
    ],
    'B': [
        ['█', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', '█', '█', '█', ' '],
    ],
    'C': [
        [' ', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', '█'],
        [' ', '█', '█', '█', ' '],
    ],
    'D': [
        ['█', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', '█', '█', '█', ' '],
    ],
    'E': [
        ['█', '█', '█', '█', '█'],
        ['█', ' ', ' ', ' ', ' '],
        ['█', '█', '█', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', '█', '█', '█', '█'],
    ],
    'F': [
        ['█', '█', '█', '█', '█'],
        ['█', ' ', ' ', ' ', ' '],
        ['█', '█', '█', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
    ],
    'G': [
        ['█', '█', '█', '█', '█'],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', '█', '█', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        [' ', '█', '█', '█', ' '],
    ],
    'H': [
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', '█', '█', '█', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
    ],
    'I': [
        ['█', '█', '█'],
        [' ', '█', ' '],
        [' ', '█', ' '],
        [' ', '█', ' '],
        [' ', '█', ' '],
        [' ', '█', ' '],
        ['█', '█', '█'],
    ],
    'J': [
        [' ', ' ', ' ', '█'],
        [' ', ' ', ' ', '█'],
        [' ', ' ', ' ', '█'],
        [' ', ' ', ' ', '█'],
        [' ', ' ', ' ', '█'],
        ['█', ' ', ' ', '█'],
        [' ', '█', '█', ' '],
    ],
    'K': [
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', '█', ' '],
        ['█', '█', '█', ' ', ' '],
        ['█', ' ', ' ', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
    ],
    'L': [
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', '█', '█', '█', '█'],
    ],
    'M': [
        ['█', ' ', ' ', ' ', '█'],
        ['█', '█', ' ', '█', '█'],
        ['█', ' ', '█', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
    ],
    'N': [
        ['█', ' ', ' ', ' ', '█'],
        ['█', '█', ' ', ' ', '█'],
        ['█', ' ', '█', ' ', '█'],
        ['█', ' ', ' ', '█', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
    ],
    'O': [
        [' ', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        [' ', '█', '█', '█', ' '],
    ],
    'P': [
        ['█', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
    ],
    'Q': [
        [' ', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', '█', ' ', '█'],
        ['█', ' ', ' ', '█', '█'],
        ['█', ' ', ' ', ' ', '█'],
        [' ', '█', '█', '█', '█'],
    ],
    'R': [
        ['█', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', '█', '█', '█', ' '],
        ['█', ' ', ' ', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
    ],
    'S': [
        [' ', '█', '█', '█', '█'],
        ['█', ' ', ' ', ' ', ' '],
        [' ', '█', '█', '█', ' '],
        [' ', ' ', ' ', ' ', '█'],
        [' ', ' ', ' ', ' ', '█'],
        [' ', ' ', ' ', ' ', '█'],
        ['█', '█', '█', '█', ' '],
    ],
    'T': [
        ['█', '█', '█', '█', '█'],
        [' ', ' ', '█', ' ', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', ' ', '█', ' ', ' '],
    ],
    'U': [
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        [' ', '█', '█', '█', ' '],
    ],
    'V': [
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        [' ', '█', ' ', '█', ' '],
        [' ', '█', ' ', '█', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', ' ', '█', ' ', ' '],
    ],
    'W': [
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', '█', ' ', '█'],
        ['█', ' ', '█', ' ', '█'],
        ['█', '█', ' ', '█', '█'],
        ['█', ' ', ' ', ' ', '█'],
    ],
    'X': [
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        [' ', '█', ' ', '█', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', '█', ' ', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
    ],
    'Y': [
        ['█', ' ', ' ', ' ', '█'],
        ['█', ' ', ' ', ' ', '█'],
        [' ', '█', ' ', '█', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', ' ', '█', ' ', ' '],
    ],
    'Z': [
        ['█', '█', '█', '█', '█'],
        [' ', ' ', ' ', ' ', '█'],
        [' ', ' ', ' ', '█', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', '█', ' ', ' ', ' '],
        ['█', ' ', ' ', ' ', ' '],
        ['█', '█', '█', '█', '█'],
    ],
    ' ': [
        [' ', ' '],
        [' ', ' '],
        [' ', ' '],
        [' ', ' '],
        [' ', ' '],
        [' ', ' '],
        [' ', ' '],
    ],
    '?': [
        [' ', '█', '█', '█', ' '],
        ['█', ' ', ' ', ' ', '█'],
        [' ', ' ', ' ', '█', ' '],
        [' ', ' ', '█', ' ', ' '],
        [' ', '█', ' ', ' ', ' '],
        [' ', ' ', ' ', ' ', ' '],
        [' ', '█', ' ', ' ', ' '],
    ],
    ',': [
        [' ', ' ', ' '],
        [' ', ' ', ' '],
        [' ', ' ', ' '],
        [' ', ' ', ' '],
        [' ', ' ', ' '],
        [' ', ' ', '█'],
        [' ', '█', ' '],
    ],
    '.': [
        [' ', ' '],
        [' ', ' '],
        [' ', ' '],
        [' ', ' '],
        [' ', ' '],
        [' ', ' '],
        ['█', ' '],
    ],
}

const getWordAsBitMap = (word: string): string[][] => {
    const letters: Letter[] = word.split('').map((letter: string) => letterMap[letter]).filter((letter) => letter !== undefined) as Letter[]

    const lettersWithSpaces = letters.reduce((acc, letter, i) => {
        if (i > 0) {
            acc.push(letterMap[' '])
        }
        acc.push(letter)
        return acc
    }, [] as Letter[])
    
    const bitmap = lettersWithSpaces.reduce((acc, letter) => {
        return acc.map((row, i) => row.concat([...letter[i]]))
    }, [[], [], [], [], [], [], []] as string[][]).reverse()

    const xLeft = 3
    const xRight = 0
    const yTop = 3
    const yBottom = 3

    const yPadArr = Array(bitmap[0].length).fill(' ') as string[]

    let paddedBitmap = [...Array(yTop).fill(yPadArr), ...bitmap, ...Array(yBottom).fill(yPadArr)]
    paddedBitmap = paddedBitmap.map((row) => [
        ...Array(xLeft).fill(' '),
        ...row,
        ...Array(xRight).fill(' ')
    ])
    return paddedBitmap
}

export default getWordAsBitMap